<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FE Formatter</title>
    <link rel="stylesheet" href="//code.bdstatic.com/npm/@wtdf/joshua@0.0.12/dist/joshua.min.css">
    <link rel="stylesheet" href="/index.css">
    <style>
    .btn, .select, .input { margin-bottom: 0; vertical-align: middle; }

    .container, body, html { height: 100%; }
    .container {
        display: flex;
        flex-direction: column;
    }
    #topbar {
        padding: 1em 0;
    }
    #editor {
        flex-grow: 1;
        padding-bottom: 2em;
    }
    #editor .CodeMirror {
        font-family: var(--font-mono), monospace;
        border: 1px solid #ddd;
        height: 100%;
    }

    #editor .CodeMirror-empty { color: #ccc; }
    </style>

    <link rel="manifest" href="/manifest.json" />
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((reg) => {
                        console.log('Service worker registered.')
                    })
            })
        }
    </script>
</head>
<body>
    
    <div class="container">
        
        <div id="topbar" class="valign">
            <span>
                <button class="btn" onclick="format(editor)">Format</button>　
                <button class="btn outline" onclick="clearContent()">clear</button>　
            </span>
            <form id="fmt-form">
                <span>
                    <select onchange="changeMode(this)" class="select" name="parser" id="parser">
                        <option value="babel">babel</option>
                        <option value="css">css</option>
                        <option value="less">less</option>
                        <option value="scss">scss</option>
                        <option value="json">json</option>
                        <!-- <option value="json-stringify">json-stringify</option> -->
                        <option value="markdown">markdown</option>
                        <!-- <option value="mdx">mdx</option> -->
                        <!-- <option value="vue">vue</option> -->
                        <option value="html">html</option>
                    </select>　
                </span>
                <span class="custom-input">
                    <input type="checkbox" id="use-tabs" name="use-tabs">
                    <label for="use-tabs">Use tabs</label>
                </span>　
                <span class="custom-input">
                    <input type="checkbox" id="semi" name="semi">
                    <label for="semi">Semi</label>
                </span>　
                <span class="custom-input">
                    <input type="checkbox" id="single-quote" name="single-quote" checked>
                    <label for="single-quote">Single quote</label>
                </span>　
                <!-- <span>
                    <label for="tab-width">Tab width </label>
                    <input style="width:4em" class="input" type="number" value="4" id="tab-width" name="tab-width">
                </span> -->
            </form>
        </div>
        
        <div id="editor"></div>
    </div>

    <script src="//code.bdstatic.com/npm/prettier@1.18.0/standalone.js"></script>
    <script src="//code.bdstatic.com/npm/prettier@1.18.0/parser-babylon.js"></script>
    <script src="//code.bdstatic.com/npm/prettier@1.18.0/parser-markdown.js"></script>
    <script src="//code.bdstatic.com/npm/prettier@1.18.2/parser-html.js"></script>
    <script src="//code.bdstatic.com/npm/prettier@1.18.2/parser-postcss.js"></script>
    <script src="/index.js"></script>

</body>
</html>